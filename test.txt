@SuppressWarnings("null")
public void populateStateNameForHearingDateIfAvailable(ClaimDetails claimDetails) {
    // Get the fillables map from claim details parameters
    Map<String, Object> fillablesMap = claimDetails.getParameters();
    
    Optional.ofNullable(fillablesMap)
        .filter(map -> !map.isEmpty())
        .map(map -> map.get(HEARING_ADDRESS))
        .filter(obj -> obj instanceof Map)
        .map(obj -> (Map<String, Object>) obj)
        .ifPresent(hearingAddress -> {
            // Extract state or province code
            String stateOrProvince = (String) hearingAddress.get(STATEPROVINCE);
            
            if (stateOrProvince != null && !stateOrProvince.isEmpty()) {
                try {
                    // Fetch state territory info
                    StateTerritoryGRTInfoEntity stateTerritoryGRTInfoEntity = 
                        statesListService.getStateTerritoryGRTInfo(stateOrProvince);
                    
                    if (stateTerritoryGRTInfoEntity != null) {
                        String stateName = stateTerritoryGRTInfoEntity.getPublicAI();
                        
                        // Update the hearing address map with the state name
                        hearingAddress.put("stateName", stateName);
                        
                        // Update the fillables map back to claim details
                        fillablesMap.put(HEARING_ADDRESS, hearingAddress);
                        
                        log.debug("Setting state name for claimDetails {}: {}", 
                                claimDetails.getId(), stateName);
                    } else {
                        log.warn("No state territory info found for state code: {}", stateOrProvince);
                    }
                } catch (Exception e) {
                    log.error("Error fetching state name for state code: {}", stateOrProvince, e);
                }
            } else {
                log.debug("State or province code is null or empty for claimDetails: {}", 
                        claimDetails.getId());
            }
        });
}
